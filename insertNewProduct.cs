using System;
using MySql.Data.MySqlClient;

namespace groupact
{
    class ManageProduct
    {
        public class InsertNewProduct
        {
            private string server = "localhost";
            private string database = "productlisting";
            private string username = "root";
            private string password = "";
            private string connString;

            public InsertNewProduct()
            {
                connString = $"Server={server};Database={database};User ID={username};Password={password};";
            }

            public void InsertData(string productName, int productPrice, string productDescription)
            {
                using (MySqlConnection conn = new MySqlConnection(connString))
                {
                    try
                    {
                        conn.Open();
                        Console.WriteLine("=======================");
                        Console.WriteLine("| Connected to MySQL! |");
                        Console.WriteLine("=======================");
                        string query = "INSERT INTO products (productName, productPrice, productDescription) VALUES (@name, @price, @description)";

                        using (MySqlCommand cmd = new MySqlCommand(query, conn))
                        {
                            cmd.Parameters.AddWithValue("@name", productName);
                            cmd.Parameters.AddWithValue("@price", productPrice);
                            cmd.Parameters.AddWithValue("@description", productDescription);

                            int rowsAffected = cmd.ExecuteNonQuery();

                            if (rowsAffected > 0)
                            {
                                Console.WriteLine(@"
  ______       _    _________    _        _____ ____  _____  ______  ________ _______  _________ ________ ______    
 |_   _ `.    / \  |  _   _  |  / \      |_   _|_   \|_   _.' ____ \|_   __  |_   __ \|  _   _  |_   __  |_   _ `.  
   | | `. \  / _ \ |_/ | | \_| / _ \       | |   |   \ | | | (___ \_| | |_ \_| | |__) |_/ | | \_| | |_ \_| | | `. \ 
   | |  | | / ___ \    | |    / ___ \      | |   | |\ \| |  _.____`.  |  _| _  |  __ /    | |     |  _| _  | |  | | 
   | |_.' _/ /   \ \_ _| |_ _/ /   \ \_   _| |_ _| |_\   |_| \____) |_| |__/ |_| |  \ \_ _| |_   _| |__/ |_| |_.' / 
 |______.|____| |____|_____|____| |____| |_____|_____|\____|\______.|________|____| |___|_____| |________|______.'                                                                             
                         ______  ______________________________  ____   ___  ____
                        / __/ / / / ___/ ___/ __/ __/ __/ __/ / / / /  / \ \/ / /
                       _\ \/ /_/ / /__/ /__/ _/_\ \_\ \/ _// /_/ / /__/ /_\  /_/ 
                      /___/\____/\___/\___/___/___/___/_/  \____/____/____/_(_)  
");
                            }
                            else
                            {
                                Console.WriteLine(@"
 _____ _    ___ _     _____ ____    _____ ___    ___ _   _ ____  _____ ____ _____ 
|  ___/ \  |_ _| |   | ____|  _ \  |_   _/ _ \  |_ _| \ | / ___|| ____|  _ |_   _|
| |_ / _ \  | || |   |  _| | | | |   | || | | |  | ||  \| \___ \|  _| | |_) || |  
|  _/ ___ \ | || |___| |___| |_| |   | || |_| |  | || |\  |___) | |___|  _ < | |  
|_|/_/   \_|___|_____|_____|____/    |_| \___/  |___|_| \_|____/|_____|_| \_\|_|

  █████▄▄▄      ██▓██▓   ▓█████▓█████▄    ▄▄▄█████▓▒█████      ██▓███▄    █  ██████▓█████ ██▀███ ▄▄▄█████▓
▓██   ▒████▄   ▓██▓██▒   ▓█   ▀▒██▀ ██▌   ▓  ██▒ ▓▒██▒  ██▒   ▓██▒██ ▀█   █▒██    ▒▓█   ▀▓██ ▒ ██▓  ██▒ ▓▒
▒████ ▒██  ▀█▄ ▒██▒██░   ▒███  ░██   █▌   ▒ ▓██░ ▒▒██░  ██▒   ▒██▓██  ▀█ ██░ ▓██▄  ▒███  ▓██ ░▄█ ▒ ▓██░ ▒░
░▓█▒  ░██▄▄▄▄██░██▒██░   ▒▓█  ▄░▓█▄   ▌   ░ ▓██▓ ░▒██   ██░   ░██▓██▒  ▐▌██▒ ▒   ██▒▓█  ▄▒██▀▀█▄ ░ ▓██▓ ░ 
░▒█░   ▓█   ▓██░██░██████░▒████░▒████▓      ▒██▒ ░░ ████▓▒░   ░██▒██░   ▓██▒██████▒░▒████░██▓ ▒██▒ ▒██▒ ░ 
 ▒ ░   ▒▒   ▓▒█░▓ ░ ▒░▓  ░░ ▒░ ░▒▒▓  ▒      ▒ ░░  ░ ▒░▒░▒░    ░▓ ░ ▒░   ▒ ▒▒ ▒▓▒ ▒ ░░ ▒░ ░ ▒▓ ░▒▓░ ▒ ░░   
 ░      ▒   ▒▒ ░▒ ░ ░ ▒  ░░ ░  ░░ ▒  ▒        ░     ░ ▒ ▒░     ▒ ░ ░░   ░ ▒░ ░▒  ░ ░░ ░  ░ ░▒ ░ ▒░   ░    
 ░ ░    ░   ▒   ▒ ░ ░ ░     ░   ░ ░  ░      ░     ░ ░ ░ ▒      ▒ ░  ░   ░ ░░  ░  ░    ░    ░░   ░  ░      
            ░  ░░     ░  ░  ░  ░  ░                   ░ ░      ░          ░      ░    ░  ░  ░             
                                ░                                                                         
");
                            }
                        }
                    }
                    catch (Exception ex)
                    {
                        Console.WriteLine(@" 
    --------------------------------------------------------------------------------------------------------------
      ░▒▓█▓▒░            ░▒▓████████▓▒░▒▓███████▓▒░░▒▓███████▓▒░ ░▒▓██████▓▒░░▒▓███████▓▒░             ░▒▓█▓▒░ 
      ░▒▓█▓▒░            ░▒▓█▓▒░      ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░            ░▒▓█▓▒░ 
      ░▒▓█▓▒░            ░▒▓█▓▒░      ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░            ░▒▓█▓▒░ 
      ░▒▓█▓▒░            ░▒▓██████▓▒░ ░▒▓███████▓▒░░▒▓███████▓▒░░▒▓█▓▒░░▒▓█▓▒░▒▓███████▓▒░             ░▒▓█▓▒░ 
      ░▒▓█▓▒░            ░▒▓█▓▒░      ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░            ░▒▓█▓▒░ 
                         ░▒▓█▓▒░      ░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░                    
      ░▒▓█▓▒░            ░▒▓████████▓▒░▒▓█▓▒░░▒▓█▓▒░▒▓█▓▒░░▒▓█▓▒░░▒▓██████▓▒░░▒▓█▓▒░░▒▓█▓▒░            ░▒▓█▓▒░ 
                                                                                                         
     ------------------------------------------------------------------------------------------------------------ 
" + ex.Message);
                    }
                }
            }
        }
    }
}
